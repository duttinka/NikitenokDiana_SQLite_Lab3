# Консольное приложение для управления базой данных фильмов "FilmsDB"

## Лабораторная работа №3, Задание 5
Никитёнок Диана, группа 9

## 1. Название проекта

**kinematica Console Manager** - Консольное приложение для управления базой данных SQLite 
"FilmsDB", содержащей информацию о фильмах и кинотеатрах.

## 2. Цель проекта

Целью данного проекта является разработка консольного приложения на языке C, которое 
позволяет пользователю взаимодействовать с базой данных SQLite. Приложение должно 
поддерживать основные CRUD-операции (создание, чтение, обновление, удаление) для записей 
о фильмах, а также демонстрировать работу с BLOB-объектами (фотографии фильмов) и 
управление транзакциями.

## 3. Краткое описание структуры папок проекта (`project5`)

Проект организован следующим образом:

-   **`src/`**: Содержит исходные файлы на языке C (`*.c`).
    -   `main.c`: Главный файл программы, содержит функцию `main()` и логику основного 
меню.
    -   `db_utils.c`: Модуль с функциями для подключения/отключения от базы данных и 
выполнения простых SQL-запросов.
    -   `film_operations.c`: Модуль с функциями, реализующими основные операции над 
таблицей фильмов (добавление, поиск, удаление, работа с фото, демонстрация транзакций).
-   **`include/`**: Содержит заголовочные файлы (`*.h`) для модулей из `src/`.
    -   `db_utils.h`: Объявления функций из `db_utils.c`.
    -   `film_operations.h`: Объявления функций из `film_operations.c`.
-   **`data/`**: Содержит файл базы данных `kinematica.db` и,тестовые изображения для 
загрузки.
-   **`bin/`**: Папка, в которую помещается скомпилированный исполняемый файл приложения 
(создается автоматически при сборке). (Эта папка обычно добавляется в `.gitignore`).
-   **`Makefile`**: Файл для автоматической сборки проекта с помощью утилиты `make`.


Приложение предоставляет следующее текстовое меню:

1.  **Показать все фильмы**:
    Выводит список всех фильмов из базы данных с основной информацией (ID, название, год, 
режиссер, жанр, цена билета, кинотеатр).
2.  **Найти фильм по ID**:
    Запрашивает у пользователя ID фильма и выводит полную информацию о найденном фильме, 
включая стоимость производства, доход, прибыль и связанный кинотеатр.
3.  **Добавить новый фильм**:
    Позволяет пользователю ввести данные о новом фильме (название, режиссер, год, страна, 
жанр, стоимость, доход, прибыль, цена билета) и добавляет его в базу данных. Фотография 
на этом этапе не добавляется (используйте опцию 7).
4.  **Найти фильмы по названию (шаблон)**:
    Запрашивает у пользователя часть названия фильма и выводит список всех фильмов, 
название которых содержит введенный шаблон (поиск без учета регистра не реализован, но 
можно использовать `%` как часть шаблона).
5.  **Найти фильмы по жанру**:
    Запрашивает у пользователя жанр и выводит список всех фильмов, жанр которых содержит 
введенный текст (поиск без учета регистра не реализован, но можно использовать `%` как 
часть шаблона).
6.  **Удалить фильм по ID**:
    Запрашивает у пользователя ID фильма. Перед удалением показывает название найденного 
фильма и запрашивает подтверждение.
7.  **Добавить фото к фильму**:
    Запрашивает ID существующего фильма и путь к файлу изображения на диске. Читает 
изображение и сохраняет его в поле `фотография` (BLOB) для указанного фильма.
8.  **Извлечь фото фильма**:
    Запрашивает ID фильма и путь для сохранения файла. Если у фильма есть фотография в 
базе данных, она извлекается и сохраняется по указанному пути.
9.  **Демонстрация Autocommit INSERT**:
    Показывает поведение SQLite при вставке данных в режиме `autocommit` (по умолчанию). 
Выполняет несколько вставок, включая одну намеренно ошибочную, чтобы продемонстрировать, 
что успешные вставки до ошибки сохраняются.
10. **Демонстрация Transaction INSERT**:
    Показывает поведение SQLite при вставке данных внутри явной транзакции (`BEGIN 
TRANSACTION; ... COMMIT;/ROLLBACK;`). Выполняет несколько вставок, включая одну намеренно 
ошибочную, чтобы продемонстрировать, что при ошибке вся транзакция откатывается и никакие 
данные из этой транзакции не сохраняются.
0.  **Выход**:
    Завершает работу приложения, корректно закрывая соединение с базой данных.

